<div class="newsletter-container bg-white p-6 rounded-lg shadow-sm">
    <form id="newsletter-form" class="space-y-4">
        <h3 class="text-xl font-bold">Subscribe to the Newsletter</h3>
        <p class="text-gray-600">Get notified about new posts and updates.</p>
        
        <div class="relative">
            <input 
                type="email" 
                id="email"
                name="email"
                placeholder="Enter your email"
                class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"
                required
            >
        </div>

        <button 
            type="submit"
            class="w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition"
        >
            Subscribe
        </button>

        <p class="text-sm text-gray-500">
            No spam. Unsubscribe at any time.
        </p>
    </form>
</div>

<script>
document.getElementById('newsletter-form').addEventListener('submit', async (e) => {
    e.preventDefault();
    const email = e.target.email.value;
    
    try {
        const response = await fetch('/api/newsletter/subscribe', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ email })
        });
        
        const data = await response.json();
        
        if (response.ok) {
            alert('Thanks for subscribing! Please check your email to confirm.');
            e.target.reset();
        } else {
            alert(data.error || 'Something went wrong');
        }
    } catch (error) {
        alert('Failed to subscribe. Please try again.');
    }
});
</script> 